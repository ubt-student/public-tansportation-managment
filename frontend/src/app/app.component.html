<mat-toolbar class="app-toolbar">
  <button
    mat-icon-button
    class="example-icon"
    (click)="drawer.toggle()"
    [disabled]="!user"
    aria-label="Example icon-button with menu icon"
  >
    <mat-icon>menu</mat-icon>
  </button>
  <span>Public Transportation Manager</span>
  <span class="example-spacer"></span>
  <div
    *ngIf="weather"
    style="
      margin: -1px 0 0 0;
      position: absolute;
      right: 175px;
      font-size: 20px;
      height: 64px;
      line-height: 64px;
      width: 75px;
      text-align: center;
      vertical-align: middle;
      background-color: aquamarine;
    "
  >
    {{ weather.main.temp.toFixed(0) }} Â°C
  </div>
  <div
    *ngIf="weather"
    style="position: absolute; right: 100px; font-size: 15px; font-weight: 400"
  >
    <img
      [src]="url"
      style="
        background-position: center;
        background-size: cover;
        height: 74px;
        width: 75px;
        cursor: pointer;
        background-color: aquamarine;
      "
    />
  </div>
  <div
    *ngIf="user"
    style="position: absolute; right: 25px; font-size: 15px; font-weight: 400"
  >
    <img
      [src]="user.avatar"
      style="
        background-position: center;
        background-size: cover;
        border-radius: 50%;
        height: 40px;
        width: 40px;
        cursor: pointer;
      "
      [matMenuTriggerFor]="menu"
    />
    <mat-menu #menu="matMenu">
      <div style="position: relative; height: 120px; width: 200px">
        <img
          [src]="user.avatar"
          style="
            background-size: cover;
            left: 0;
            right: 0;
            margin: 0 auto;
            position: absolute;
            background-position: center;
            border-radius: 50%;
            height: 45px;
            width: 45px;
          "
        />
        <div
          style="position: absolute; top: 55px; text-align: center; width: 100%"
        >
          <p>{{ user.email }}</p>
          <p>{{ user.firstname }} {{ user.lastname }}</p>
        </div>
      </div>
      <br />
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="myTickets()">
        <mat-icon style="color: orange">open_in_new</mat-icon>
        <span>Rezervimet</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon style="color: red">login</mat-icon>
        <span>Shkyqu</span>
      </button>
    </mat-menu>
  </div>
</mat-toolbar>
<mat-drawer-container class="example-container" autosize>
  <mat-drawer #drawer class="example-sidenav" mode="side">
    <mat-selection-list [multiple]="false">
      <mat-list-option [routerLink]="['/home']"> Udhetimet </mat-list-option>
      <mat-list-option [routerLink]="['/bileta']"> Tiketat </mat-list-option>
      <mat-list-option [routerLink]="['/about']"> Rreth nesh </mat-list-option>
      <mat-list-option [routerLink]="['/admin']" *ngIf="false">
        Admin
      </mat-list-option>
    </mat-selection-list>
  </mat-drawer>

  <div class="example-sidenav-content">
    <router-outlet></router-outlet>
  </div>
</mat-drawer-container>
